{% extends 'base.html' %}

{% block title %}座席表作成 - {{ venue.name }} - TicketPro{% endblock %}

{% block content %}
<h2>座席表作成: {{ venue.name }}</h2>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>座席一括登録</h5>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        {{ form.non_field_errors }}
                    </div>
                    {% endif %}
                    
                    <div class="mb-3">
                        {{ form.block.label_tag }}
                        {{ form.block }}
                        {% if form.block.errors %}
                        <div class="text-danger">{{ form.block.errors }}</div>
                        {% endif %}
                        <small class="text-muted">例: A, B, C</small>
                    </div>
                    
                    <div class="mb-3">
                        {{ form.seat_type.label_tag }}
                        {{ form.seat_type }}
                        {% if form.seat_type.errors %}
                        <div class="text-danger">{{ form.seat_type.errors }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="row">
                        <div class="col-6 mb-3">
                            {{ form.row_start.label_tag }}
                            {{ form.row_start }}
                            {% if form.row_start.errors %}
                            <div class="text-danger">{{ form.row_start.errors }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="col-6 mb-3">
                            {{ form.row_end.label_tag }}
                            {{ form.row_end }}
                            {% if form.row_end.errors %}
                            <div class="text-danger">{{ form.row_end.errors }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-6 mb-3">
                            {{ form.number_start.label_tag }}
                            {{ form.number_start }}
                            {% if form.number_start.errors %}
                            <div class="text-danger">{{ form.number_start.errors }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="col-6 mb-3">
                            {{ form.number_end.label_tag }}
                            {{ form.number_end }}
                            {% if form.number_end.errors %}
                            <div class="text-danger">{{ form.number_end.errors }}</div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn btn-primary">一括登録</button>
                        <a href="{% url 'seats:seat_list' venue.pk %}" class="btn btn-secondary">座席一覧</a>
                        <a href="{% url 'events:venue_list' %}" class="btn btn-outline-secondary">会場一覧へ</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>使い方</h5>
            </div>
            <div class="card-body">
                <p><strong>座席を一括登録できます。</strong></p>
                
                <h6>例1: Aブロック、1-10列、1-20番</h6>
                <ul>
                    <li>ブロック: A</li>
                    <li>開始列: 1、終了列: 10</li>
                    <li>開始番号: 1、終了番号: 20</li>
                    <li>→ A-1-1 ～ A-10-20 まで200席作成</li>
                </ul>
                
                <h6>例2: Bブロック、A-F列、1-15番</h6>
                <ul>
                    <li>ブロック: B</li>
                    <li>開始列: A、終了列: F</li>
                    <li>開始番号: 1、終了番号: 15</li>
                    <li>→ B-A-1 ～ B-F-15 まで90席作成</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}
